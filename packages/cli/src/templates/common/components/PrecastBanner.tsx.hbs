import React, { useEffect } from 'react';

/**
 * Precast Banner Component
 * Animated hero section powered by Unicorn Studio
 * 
 * @component
 * @returns {JSX.Element} The animated Precast banner
 */
export const PrecastBanner: React.FC = () => {
  useEffect(() => {
    // Initialize Unicorn Studio
    if (!window.UnicornStudio) {
      window.UnicornStudio = { isInitialized: false };
      
      const script = document.createElement('script');
      script.src = 'https://cdn.jsdelivr.net/gh/hiunicornstudio/unicornstudio.js@v1.4.29/dist/unicornStudio.umd.js';
      script.onload = () => {
        if (!window.UnicornStudio.isInitialized) {
          window.UnicornStudio.init();
          window.UnicornStudio.isInitialized = true;
        }
      };
      
      (document.head || document.body).appendChild(script);
    }
    
    // Cleanup function
    return () => {
      // Optionally clean up Unicorn Studio if needed
    };
  }, []);

  return (
    <section className="precast-banner-section">
      <div className="precast-banner-container">
        {/* Unicorn Studio Animation */}
        <div 
          data-us-project="dp5oZYukcHqqpRTqq4w1" 
          className="precast-banner-animation"
          style=\{{
            width: '100%',
            maxWidth: '1440px',
            height: '900px',
            margin: '0 auto',
            position: 'relative'
          }}
        />
        
        {/* Optional overlay content */}
        <div className="precast-banner-overlay">
          <h1 className="precast-banner-title">
            Welcome to {{name}}
          </h1>
          <p className="precast-banner-subtitle">
            Built with Precast - The modern web application scaffolding tool
          </p>
        </div>
      </div>
    </section>
  );
};

// TypeScript declarations for Unicorn Studio
declare global {
  interface Window {
    UnicornStudio: {
      isInitialized: boolean;
      init?: () => void;
    };
  }
}