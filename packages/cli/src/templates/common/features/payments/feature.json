{
  "id": "payments",
  "name": "Stripe Payments",
  "version": "1.2.0",
  "description": "Complete Stripe integration with checkout, subscriptions, and webhooks",
  "category": "payments",
  "tags": ["stripe", "payments", "subscriptions", "checkout", "webhooks"],
  "status": "stable",
  "author": "Precast Team",
  "license": "MIT",
  "compatibility": {
    "frameworks": ["react", "next", "vue", "nuxt"],
    "backends": ["express", "next", "hono", "fastify"],
    "styling": ["tailwind", "css"],
    "typescript": true
  },
  "dependencies": {
    "required": {
      "stripe": "^14.5.0",
      "@stripe/stripe-js": "^2.1.11"
    },
    "optional": {
      "@stripe/react-stripe-js": "^2.4.0",
      "micro": "^10.0.1"
    }
  },
  "detection": {
    "requiredFiles": ["package.json"],
    "frameworkDetection": {
      "react": ["src/App.tsx", "src/App.jsx"],
      "next": ["next.config.js", "app/layout.tsx", "pages/_app.tsx"],
      "vue": ["src/App.vue", "src/main.ts"],
      "nuxt": ["nuxt.config.ts", "nuxt.config.js"]
    },
    "backendDetection": {
      "express": ["src/server.ts", "src/app.ts", "server.js"],
      "next": ["next.config.js", "pages/api", "app/api"],
      "hono": ["src/index.ts", "src/app.ts"],
      "fastify": ["src/server.ts", "src/app.ts"]
    }
  },
  "installation": {
    "preInstall": [
      {
        "command": "detectProject",
        "description": "Detect project framework and backend"
      },
      {
        "command": "validateCompatibility",
        "description": "Validate Stripe compatibility"
      }
    ],
    "postInstall": [
      {
        "command": "copyFiles",
        "description": "Copy Stripe components and API routes"
      },
      {
        "command": "updateImports",
        "description": "Update app imports for Stripe provider"
      },
      {
        "command": "createExample",
        "description": "Create example checkout page",
        "optional": true,
        "file": "src/pages/checkout.tsx"
      }
    ]
  },
  "usage": {
    "quickStart": [
      "Set STRIPE_SECRET_KEY and NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY in .env",
      "Wrap your app with StripeProvider",
      "Use CheckoutForm component for payments",
      "Set up webhook endpoint for payment confirmations"
    ],
    "examples": [
      {
        "title": "Basic Checkout",
        "code": "import { CheckoutForm, StripeProvider } from '@/features/payments';\n\nexport default function CheckoutPage() {\n  return (\n    <StripeProvider>\n      <CheckoutForm amount={2000} currency=\"usd\" />\n    </StripeProvider>\n  );\n}"
      },
      {
        "title": "Subscription Setup",
        "code": "import { SubscriptionForm } from '@/features/payments';\n\nexport default function Subscribe() {\n  return (\n    <SubscriptionForm\n      priceId=\"price_1234567890\"\n      onSuccess={() => router.push('/dashboard')}\n    />\n  );\n}"
      }
    ]
  }
}
